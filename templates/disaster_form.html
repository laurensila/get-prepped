{% extends 'base.html' %}
{% block content %}

<h2>Disaster Information</h2>

  <form id="disaster-form">
    <div class="form-group">
      <label>State
        <select id="state-field" name="state" class="form-control">
            <option value="placeholder">Select State</option>
                {% for state in states %}
                    <option value="state" id="states">{{ state[0] }}</option>
                {% endfor %}
        </select>
      </label>
    </div>

    <div class="form-group">
      <label>County
        <select id="county-field" name="county" class="form-control">
            <option value="placeholder">Select County</option>
                {% for county in counties %}
                    <option value="county" id="counties"> {{ county[0] }}</option>
                {% endfor %}
        </select>
      </label>
    </div>

    <div class="form-group">
      <button type="submit" id="disaster-form-button" class="btn btn-primary">Submit</button>
    </div>

  </form>

  <div id="disaster-results"></div>

{% endblock %}

<!-- <script src="https://code.jquery.com/jquery.js"></script> -->
<!-- <script>
    var stateDropDown = document.getElementById("state").value;

    var countyDropDown = document.getElementById("county").value;

    if (countyDropDown = "placeholder") {
    document.getElementById("submitbutton").addEventListener("click", function(event){
        event.preventDefault()
    });
    } -->



    // TENTATIVE AJAX JUNK //

//     function replaceFortune(results) {
//     $("#fortune-text").html(results);
//     }
//
//     function showFortune(evt) {
//         $.get('/fortune', replaceFortune);
//     }
//
//     $('#get-fortune-button').on('click', showFortune);
//
//     //MORE TENTATIVE AJAX JUNK//
//
//     //Need to post to route, using the data from the form, and then take the returned result object, and extract the result code//
//
//     function updateMelons(results) {
//         if (results.code == "OK") {
//             $('#order-status').html("<p>" + results.msg + "</p>");
//         }
//         else {
//             $('#order-status').addClass("order-error");
//             $('#order-status').html("<p><b>" + results.msg + "</b></p>");
//         }
//     }
//
//     function orderMelons(evt) {
//         evt.preventDefault();
//
//         var formInputs = {
//             "melon_type": $("#melon-type-field").val(),
//             "qty": $("#qty-field").val()
//         };
//
//         $.post("/order-melons.json", formInputs, updateMelons);
//     }
//
//     $("#order-form").on('submit', orderMelons);
<!-- </script> -->
